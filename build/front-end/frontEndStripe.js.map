{"version":3,"sources":["../../front-end/frontEndStripe.js"],"names":["Stripe","setPublishableKey","$form","$","submit","event","find","prop","addClass","card","createToken","number","val","exp_month","exp_year","cvc","name","address_line1","address_line2","address_city","address_state","address_zip","address_country","stripeResponseHandler","status","response","error","text","message","removeClass","tokenId","id","append","get"],"mappings":";;AAAA;AACA;AACAA,OAAOC,iBAAP,CAAyB,kCAAzB;;AAEE,IAAIC,QAAQC,EAAE,cAAF,CAAZ;AACAD,MAAME,MAAN,CAAa,UAASC,KAAT,EAAgB;;AAE3B;AACAH,QAAMI,IAAN,CAAW,OAAX,EAAoBC,IAApB,CAAyB,UAAzB,EAAqC,IAArC;AACAL,QAAMI,IAAN,CAAW,WAAX,EAAwBE,QAAxB,CAAiC,QAAjC;;AAEA;AACAR,SAAOS,IAAP,CAAYC,WAAZ,CAAwB;AACpBC,YAAQR,EAAE,aAAF,EAAiBS,GAAjB,EADY;AAEpBC,eAAWV,EAAE,QAAF,EAAYS,GAAZ,EAFS;AAGpBE,cAAUX,EAAE,OAAF,EAAWS,GAAX,EAHU;AAIpBG,SAAKZ,EAAE,MAAF,EAAUS,GAAV,EAJe;AAKpBI,UAAMb,EAAE,OAAF,EAAWS,GAAX,EALc;AAMpBK,mBAAed,EAAE,SAAF,EAAaS,GAAb,EANK;AAOpBM,mBAAef,EAAE,MAAF,EAAUS,GAAV,EAPK;AAQpBO,kBAAchB,EAAE,OAAF,EAAWS,GAAX,EARM;AASpBQ,mBAAejB,EAAE,QAAF,EAAYS,GAAZ,EATK;AAUpBS,iBAAalB,EAAE,MAAF,EAAUS,GAAV,EAVO;AAWpBU,qBAAiBnB,EAAE,UAAF,EAAcS,GAAd;AAXG,GAAxB,EAYGW,qBAZH;;AAcA;AACA,SAAO,KAAP;AACD,CAvBD;;AAyBF,SAASA,qBAAT,CAA+BC,MAA/B,EAAuCC,QAAvC,EAAiD;AAC/C,MAAIA,SAASC,KAAb,EAAoB;AAClBvB,MAAE,WAAF,EAAewB,IAAf,CAAoBF,SAASC,KAAT,CAAeE,OAAnC;AACAzB,MAAE,WAAF,EAAe0B,WAAf,CAA2B,QAA3B;AACA3B,UAAMI,IAAN,CAAW,OAAX,EAAoBC,IAApB,CAAyB,UAAzB,EAAqC,KAArC;AACD,GAJD,MAIO;AACL,QAAIuB,UAAUL,SAASM,EAAvB;AACA;AACA7B,UAAM8B,MAAN,CAAa7B,EAAE,2DAAF,EAA+DS,GAA/D,CAAmEkB,OAAnE,CAAb;AACA5B,UAAM+B,GAAN,CAAU,CAAV,EAAa7B,MAAb;AACD;AACF","file":"frontEndStripe.js","sourcesContent":["// Goes on the front-end of the payment form to validate the input data\n//  and get a Token from Stripe\nStripe.setPublishableKey('pk_test_lHwDrvvFC4a3KxkfrrZPml3V');\n\n  let $form = $('#paymentForm');\n  $form.submit(function(event) {\n    \n    // Disable the submit button to prevent repeated clicks:\n    $form.find('#butt').prop('disabled', true);\n    $form.find('#errorMsg').addClass('hidden');\n    \n    // Request a token from Stripe:\n    Stripe.card.createToken({\n        number: $('#cardNumber').val(),\n        exp_month: $('#month').val(),\n        exp_year: $('#year').val(),\n        cvc: $('#cvc').val(),\n        name: $('#name').val(),\n        address_line1: $('#street').val(),\n        address_line2: $('#apt').val(),\n        address_city: $('#city').val(),\n        address_state: $('#state').val(),\n        address_zip: $('#zip').val(),\n        address_country: $('#country').val()\n    }, stripeResponseHandler);\n\n    // Prevent the form from being submitted:\n    return false;\n  });\n\nfunction stripeResponseHandler(status, response) {\n  if (response.error) {\n    $('#errorMsg').text(response.error.message);\n    $('#errorMsg').removeClass('hidden');\n    $form.find('#butt').prop('disabled', false);\n  } else {\n    var tokenId = response.id;\n    // Insert the token ID into the form so it gets submitted to the server:\n    $form.append($('<input type=\"hidden\" name=\"stripeToken\" id=\"stripeToken\">').val(tokenId));\n    $form.get(0).submit();\n  }\n};"]}