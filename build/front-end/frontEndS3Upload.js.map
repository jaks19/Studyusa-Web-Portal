{"version":3,"sources":["../../front-end/frontEndS3Upload.js"],"names":["$","click","e","preventDefault","username","val","subId","subTitle","file","document","getElementById","files","getSignedRequestAndSend","submit","request","XMLHttpRequest","open","name","type","send","status","uploadFile","JSON","parse","responseText","signedUrl","alert"],"mappings":";;AAACA,EAAE,UAAF,EAAcC,KAAd,CAAoB,UAASC,CAAT,EAAW;AAC7BA,IAAEC,cAAF;AACA,MAAIC,WAAWJ,EAAE,iBAAF,EAAqBK,GAArB,EAAf;AAAA,MACIC,QAAQN,EAAE,gBAAF,EAAoBK,GAApB,EADZ;AAAA,MAEIE,WAAWP,EAAE,mBAAF,EAAuBK,GAAvB,EAFf;AAAA,MAGIG,OAAOC,SAASC,cAAT,CAAwB,KAAxB,EAA+BC,KAA/B,CAAqC,CAArC,CAHX;AAIAC,0BAAwBJ,IAAxB,EAA8BJ,QAA9B,EAAwCE,KAAxC,EAA+CC,QAA/C;AACAP,IAAE,YAAF,EAAgBa,MAAhB;AACD,CARD;;AAUD,SAASD,uBAAT,CAAiCJ,IAAjC,EAAuCJ,QAAvC,EAAiDE,KAAjD,EAAwDC,QAAxD,EAAiE;AAC/D,MAAIO,UAAU,IAAIC,cAAJ,EAAd;AACAD,UAAQE,IAAR,CAAa,KAAb,EAAoB,YAAYZ,QAAZ,GAAuB,UAAvB,GAAoCE,KAApC,GAA4C,MAA5C,GAAqDC,QAArD,GAAgE,UAAhE,GAA6EC,KAAKS,IAAlF,qBAAwGT,KAAKU,IAA7G,CAApB,EAAyI,KAAzI;AACAJ,UAAQK,IAAR;AACA,MAAIL,QAAQM,MAAR,KAAmB,GAAvB,EAA4B;AAAEC,eAAWb,IAAX,EAAiBc,KAAKC,KAAL,CAAWT,QAAQU,YAAnB,EAAiCC,SAAlD;AAA8D,GAA5F,MACK;AAAEC,UAAM,2BAAN;AAAoC;AAC5C;;AAED,SAASL,UAAT,CAAoBb,IAApB,EAA0BiB,SAA1B,EAAoC;AAClC,MAAIX,UAAU,IAAIC,cAAJ,EAAd;AACAD,UAAQE,IAAR,CAAa,KAAb,EAAoBS,SAApB,EAA+B,KAA/B;AACAX,UAAQK,IAAR,CAAaX,IAAb;AACA,MAAIM,QAAQM,MAAR,KAAmB,GAAvB,EAA4B;AAAEM,UAAM,wBAAN;AAAiC;AAChE","file":"frontEndS3Upload.js","sourcesContent":[" $('#sendAdd').click(function(e){\n   e.preventDefault();\n   let username = $('#whistlerClient').val(),\n       subId = $('#whistlerSubId').val(),\n       subTitle = $('#whistlerSubTitle').val(),\n       file = document.getElementById('doc').files[0];\n   getSignedRequestAndSend(file, username, subId, subTitle);\n   $('#submitAdd').submit();\n });\n\nfunction getSignedRequestAndSend(file, username, subId, subTitle){\n  let request = new XMLHttpRequest();\n  request.open('GET', '/index/' + username + '/submit/' + subId + '/s3/' + subTitle + '/upload/' + file.name + `/?file-type=${file.type}`, false);\n  request.send();\n  if (request.status === 200) { uploadFile(file, JSON.parse(request.responseText).signedUrl) }\n  else { alert('Could not get signed URL.') }\n}\n\nfunction uploadFile(file, signedUrl){\n  let request = new XMLHttpRequest();\n  request.open('PUT', signedUrl, false);\n  request.send(file);\n  if (request.status !== 200) { alert('Could not upload file.') }\n}"]}