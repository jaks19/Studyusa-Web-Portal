{"version":3,"sources":["../../routes/auth.js"],"names":["express","require","passport","router","Router","post","authenticate","failureFlash","failureRedirect","req","res","user","admin","redirect","username","get","logout","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AAAA,IACIC,WAAWD,QAAQ,UAAR,CADf;;AAGA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEAD,OAAOE,IAAP,CAAY,QAAZ,EACIH,SAASI,YAAT,CAAsB,OAAtB,EAA+B;AAC3BC,kBAAc,IADa;AAE3BC,qBAAiB;AAFU,CAA/B,CADJ,EAIQ,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACnB,QAAIC,OAAOF,IAAIE,IAAf;AACA,QAAIA,KAAKC,KAAT,EAAgB;AAAEF,YAAIG,QAAJ,CAAa,YAAY,OAAZ,GAAsB,cAAnC;AAAoD,KAAtE,MACK;AAAEH,YAAIG,QAAJ,CAAa,YAAYF,KAAKG,QAAjB,GAA4B,cAAzC;AAA0D;AACxE,CARD;;AAUAX,OAAOY,GAAP,CAAW,SAAX,EAAsB,UAASN,GAAT,EAAcC,GAAd,EAAmB;AACrCD,QAAIO,MAAJ;AACAN,QAAIG,QAAJ,CAAa,QAAb;AACH,CAHD;;AAKAI,OAAOC,OAAP,GAAiBf,MAAjB","file":"auth.js","sourcesContent":["var express = require(\"express\"),\n    passport = require('passport');\n\nvar router = express.Router();\n\nrouter.post('/login',\n    passport.authenticate('local', {\n        failureFlash: true,\n        failureRedirect: '/index',\n    }), function(req, res) {\n        var user = req.user;\n        if (user.admin) { res.redirect('/index/' + 'admin' + '?welcome=yes') }\n        else { res.redirect('/index/' + user.username + '?welcome=yes') }\n});\n\nrouter.get('/logout', function(req, res) {\n    req.logout();\n    res.redirect('/index');\n});\n\nmodule.exports = router;"]}