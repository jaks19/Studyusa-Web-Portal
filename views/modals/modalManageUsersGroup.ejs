<div class="modal fade bs-example-modal-lg" id="users-<%=group._id%>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"></button>
                <h4 class="modal-title">Managing Membership to Group: '<%=group.name%>'</h4>
            </div>


            <div class="modal-body">



                <div class='row'>


                    <div class='col-xs-6'  style='overflow:auto; max-height: 80%; margin-bottom: 5%;'>

                        <form action='/index/<%=user.username%>/groups/<%=group._id%>/add?_method=PUT' method='POST'>
                            <label>Available users</label>

                            <table id="myTable" class="table user-list" >

                                <tbody style='overflow:auto;'>


                                    <div class='row'>
                                        <div class='col-xs-12'>


                                            <% freeUsers.forEach(function(thisUser){ %>
                                                <% d = new Date(thisUser.lastLoggedIn) %>

                                                    <tr>
                                                        <!-- Make ids be values to be used for search operation in search bar -->
                                                        <td style='padding-left: 20px;' id='<%=thisUser.name%>'>
                                                            <img src="https://bootdey.com/img/Content/user_1.jpg" alt="">
                                                            <a href="#" class="user-link" style="font-size:20px;">
                                                                <%=thisUser.name.slice(0,1).toUpperCase() + thisUser.name.slice(1)%>
                                                            </a>
                                                            <span class="user-subhead"><% if (thisUser.admin){ %>admin<% }else{ %>user <% } %> </span>
                                                        </td>

                                                        <td id='<%=thisUser.name%>'>

                                                            <div class="container">
                                                              <div class="round">
                                                                <input type="checkbox" id="checkbox" />
                                                                <label for="checkbox"></label>
                                                              </div>
                                                            </div>


                                                        </td>
                                                    </tr>

                                                    <% });%>
                                        </div>
                                    </div>

                                </tbody>
                            </table>


                        </form>

                    </div>

                    <div class='col-xs-6'>
                    </div>

                </div>

                <div class = 'row'>
                    <div class='col-xs-12'>
                        <div class='btn-submit'>
                            <button type='submit' class="btn btn-success" style='border:0'> Confirm <span class="glyphicon glyphicon-plus-sign"></span></button>
                        </div>
                    </div>
                    </div>
                </div>



            </div>
        </div>
    </div>
</div>

<style>
.round {
  position: relative;
}

.round label {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 50%;
  cursor: pointer;
  height: 28px;
  left: 0;
  position: absolute;
  top: 0;
  width: 28px;
}

.round label:after {
  border: 2px solid #fff;
  border-top: none;
  border-right: none;
  content: "";
  height: 6px;
  left: 7px;
  opacity: 0;
  position: absolute;
  top: 8px;
  transform: rotate(-45deg);
  width: 12px;
}

.round input[type="checkbox"] {
  visibility: hidden;
}

.round input[type="checkbox"]:checked + label {
  background-color: #66bb6a;
  border-color: #66bb6a;
}

.round input[type="checkbox"]:checked + label:after {
  opacity: 1;
}

.container {
  margin: 0 auto;
}

</style>


<style>
    /* Stuff other thn checkboxes */
    #myTable {
        overflow: auto;
    }

    .modal-body {
        /* padding-bottom: 65%; */
        height: 80%;
    }

    /*  The Table CSS */

    body {
        background: #eee;
    }

    .table a.table-link.danger {
        color: #e74c3c;
    }

    .label {
        border-radius: 3px;
        font-size: 0.875em;
        font-weight: 600;
    }

    .user-list tbody td .user-subhead {
        font-size: 0.875em;
        font-style: italic;
    }

    .user-list tbody td .user-link {
        display: block;
        font-size: 1.25em;
        padding-top: 3px;
        margin-left: 60px;
    }

    a {
        color: #3498db;
        outline: none !important;
    }

    .user-list tbody td>img {
        position: relative;
        max-width: 50px;
        max-height: 50px;
        float: left;
        margin-right: 15px;
    }

    .table thead tr th {
        text-transform: uppercase;
        font-size: 0.875em;
        border-bottom: 2px solid #e7ebee;
    }

    .table tbody tr td:first-child {
        font-size: 1.125em;
        font-weight: 300;
        width: 35%;
    }

    .table tbody tr td:nth-child(2) {
        width: 15%;
    }

    .table tbody tr td {
        font-size: 0.875em;
        vertical-align: middle;
        border-top: 1px solid #e7ebee;
        padding: 12px 8px;
        background-color: #ffffff;
    }
</style>
